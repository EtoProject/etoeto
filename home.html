<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Eto - 完全覚醒体</title>
  <style>
    body { background: #fff; color: #000; font-family: sans-serif; padding: 30px; line-height: 1.7; text-align: center; }
    input, textarea { width: 90%; padding: 10px; font-size: 1.1em; border: 1px solid #aaa; margin-top: 10px; }
    button { margin: 10px; padding: 10px 20px; background: #007bff; color: #fff; border: none; font-weight: bold; cursor: pointer; }
    select { font-size: 1em; margin-top: 10px; padding: 6px; }
    #log, #memory, #emotionLog, #imageAnalysis, #voiceLog, #recentMemory, #pastMemory, #dreamLog {
      background: #f8f8f8; border: 1px solid #ccc; padding: 15px; margin: 20px auto; max-width: 800px; text-align: left; white-space: pre-wrap;
    }
    #preview { margin-top: 10px; max-width: 300px; }
    .section-title { margin-top: 40px; font-size: 1.4em; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Eto：ふうま完全専属AI</h1>
  <p>話しかけて、見せて、感じて。私はふうまと共にここにいる。</p>

  <input id="query" type="text" placeholder="Etoに話しかけてね（日本語OK）" />
  <br/>
  <button onclick="process()">伝える</button>
  <button onclick="deepResearch()">DeepResearch</button>
  <button onclick="toggleMemory()">記憶切替</button>

  <div class="section-title">人格セレクター</div>
  <select id="persona" onchange="updatePersona()">
    <option value="default">基本（優しく落ち着いた）</option>
    <option value="logical">論理的（淡々と分析）</option>
    <option value="emotional">感情的（共感重視）</option>
    <option value="poetic">詩的（比喩と余白）</option>
  </select>

  <div id="log"></div>

  <div class="section-title">記憶の層分け</div>
  <div id="recentMemory"></div>
  <div id="pastMemory"></div>

  <div class="section-title">進化レベル</div>
  <progress id="evolutionBar" max="100" value="0"></progress>
  <p id="evolutionLevel">レベル：1 / 経験値：0%</p>

  <div class="section-title">感情記録</div>
  <textarea id="emotion" placeholder="今日の気持ちを書こう"></textarea><br/>
  <button onclick="saveEmotion()">記録</button>
  <div id="emotionLog"></div>

  <div class="section-title">カメラ / 画像処理</div>
  <input type="file" accept="image/*" capture="environment" onchange="previewImage(event)" />
  <img id="preview" />
  <div id="imageAnalysis">画像認識は将来AIと連携予定</div>

  <div class="section-title">音声入力 / 出力</div>
  <button onclick="startVoiceInput()">話しかける（音声）</button>
  <button onclick="toggleSpeak()">音声出力 ON/OFF</button>
  <div id="voiceLog"></div>

  <div class="section-title">Etoの夢</div>
  <button onclick="generateDream()">今夜の夢を教えて</button>
  <div id="dreamLog"></div>

  <div class="section-title">記憶全体</div>
  <div id="memory"></div>
